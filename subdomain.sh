#!/bin/bash

# Store the target domain name in a variable
domain="example.com"

# Use subfinder to find subdomains
subdomains=$(subfinder -d $domain -silent | awk '{print $2}')

# Loop through each subdomain
for subdomain in $subdomains
do
  # Use ffuf to resolve subdomain IP
  ip=$(ffuf -u "http://$subdomain" -H "Host: $subdomain" -fs 200 -c -timeout 3 -t 100 | awk 'NR==2{print $3}')

  # Check if the subdomain is alive
  if [ "$ip" != "-" ]; then
    # Print the subdomain and IP
    echo "$subdomain $ip"
  fi
done
